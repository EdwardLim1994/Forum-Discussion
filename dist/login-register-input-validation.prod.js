"use strict";$(document).ready(function(){$("#loginPasswordVisible").click(function(){a("#loginPasswordVisible","#loginPassword")}),$("#registerPasswordVisible").click(function(){a("#registerPasswordVisible","#registerPassword")}),$("#registerConfirmPasswordVisible").click(function(){a("#registerConfirmPasswordVisible","#passwordConfirm")});var e=!1,s=!0;$("#registerUsername").on("input focusout",function(){$("#registerUsername").val()?(s=!1,/^[a-zA-Z].*/.test($("#registerUsername").val())?$.ajax({method:"POST",url:"./includes/functions/account/checkUsername.php",data:{username_ajax:$("#registerUsername").val()},success:function(a){e=a?(f("#registerUsername","#registerUsernameValidate"),!0):(u("#registerUsername","#registerUsernameValidate","Username has already been used"),!1)}}):(u("#registerUsername","#registerUsernameValidate","Username usually don't start from digit"),e=!1)):(u("#registerUsername","#registerUsernameValidate","Cannot leave blank!"),s=!(e=!1))});var r=!1,i=!0;$("#registerEmail").on("input focusout",function(){$("#registerEmail").val()?(i=!1,r=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($("#registerEmail").val())?(f("#registerEmail","#registerEmailValidate"),!0):(u("#registerEmail","#registerEmailValidate","Email format is not correct"),!1)):(u("#registerEmail","#registerEmailValidate","Cannot leave blank!"),i=!(r=!1))});var n=!1,t=!0;$("#registerPassword").on("input focusout",function(){$("#registerPassword").val()?(t=!1,n=/^(?=.*\d)(?=.*[a-zA-Z]).{6,}$/.test($("#registerPassword").val())?(f("#registerPassword","#registerPasswordValidate"),!0):(u("#registerPassword","#registerPasswordValidate","Password should contains at least 6 characters with digits and alphabert"),!1)):(u("#registerPassword","#registerPasswordValidate","Cannot leave blank!"),t=!(n=!1))});var o=!1,l=!0;$("#passwordConfirm").on("input focusout",function(){$("#passwordConfirm").val()?(l=!1,o=/^(?=.*\d)(?=.*[a-zA-Z]).{6,}$/.test($("#passwordConfirm").val())?$("#registerPassword").val()===$("#passwordConfirm").val()?(f("#passwordConfirm","#passwordConfirmValidate"),!0):(u("#passwordConfirm","#passwordConfirmValidate","Password is not matched"),!1):(u("#passwordConfirm","#passwordConfirmValidate","Password should contains at least 6 characters with digits and alphabert"),!1)):(u("#passwordConfirm","#passwordConfirmValidate","Cannot leave blank!"),l=!(o=!1))}),$("#registerForm").submit(function(a){return!!(e&&r&&n&&o)||(s&&i&&t&&l&&(u("#registerUsername","#registerUsernameValidate","Cannot leave blank!"),u("#registerEmail","#registerEmailValidate","Cannot leave blank!"),u("#registerPassword","#registerPasswordValidate","Cannot leave blank!"),u("#passwordConfirm","#passwordConfirmValidate","Cannot leave blank!")),a.preventDefault(),a.stopPropagation(),!1)});var d=!1,m=!0;$("#loginUsername").on("input focusout",function(){$("#loginUsername").val()?(m=!1,/^[a-zA-Z].*/.test($("#loginUsername").val())?$.ajax({method:"POST",url:"./includes/functions/account/checkUsername.php",data:{username_ajax:$("#loginUsername").val()},success:function(a){d=a?(u("#loginUsername","#loginUsernameValidate","Username does not exist"),!1):(f("#loginUsername","#loginUsernameValidate"),!0)}}):(u("#loginUsername","#loginUsernameValidate","Username usually don't start from digit"),d=!1)):(u("#loginUsername","#loginUsernameValidate","Cannot leave blank!"),d=!1)});var g=!1,c=!0;function a(a,e){"password"===$(e).attr("type")?($(e).attr("type","text"),$(a+" .fas").removeClass("fa-eye").addClass("fa-eye-slash")):($(e).attr("type","password"),$(a+" .fas").removeClass("fa-eye-slash").addClass("fa-eye"))}function u(a,e,s){$(a).removeClass("is-valid").addClass("is-invalid"),$(e).removeClass("valid-feedback").addClass("invalid-feedback").empty().html(s)}function f(a,e){$(a).removeClass("is-invalid").addClass("is-valid"),$(e).removeClass("invalid-feedback").addClass("valid-feedback").empty().html("Looks good!")}$("#loginPassword").on("input focusout",function(){$("#loginPassword").val()?(c=!1,g=/^(?=.*\d)(?=.*[a-zA-Z]).{6,}$/.test($("#loginPassword").val())?(f("#loginPassword","#loginPasswordValidate"),!0):(u("#loginPassword","#loginPasswordValidate","Password should contains at least 6 characters with digits and alphabert"),!1)):(u("#loginPassword","#loginPasswordValidate","Cannot leave blank!"),c=!(g=!1))}),$("#loginForm").submit(function(a){return!(!d||!g)||(m&&c&&(u("#loginUsername","#loginUsernameValidate","Cannot leave blank!"),u("#loginPassword","#loginPasswordValidate","Cannot leave blank!")),a.preventDefault(),a.stopPropagation(),!1)})});