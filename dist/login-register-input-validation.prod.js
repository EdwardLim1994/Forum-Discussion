"use strict";$(document).ready(function(){$("#loginPasswordVisible").click(function(){a("#loginPasswordVisible","#loginPassword")}),$("#registerPasswordVisible").click(function(){a("#registerPasswordVisible","#registerPassword")}),$("#registerConfirmPasswordVisible").click(function(){a("#registerConfirmPasswordVisible","#passwordConfirm")});var e=!1,s=!0;$("#registerUsername").on("input focusout",function(){""!=$("#registerUsername").val()?(s=!1,/^[a-zA-Z].*/.test($("#registerUsername").val())?$.ajax({method:"POST",url:"./includes/functions/search/checkUsername.php",data:{username_ajax:$("#registerUsername").val()},success:function(a){e=a?(f("#registerUsername","#registerUsernameValidate"),!0):(c("#registerUsername","#registerUsernameValidate","Username has already been used"),!1)}}):(c("#registerUsername","#registerUsernameValidate","Username usually don't start from digit"),e=!1)):(c("#registerUsername","#registerUsernameValidate","Cannot leave blank!"),s=!(e=!1))});var r=!1,i=!0;$("#registerEmail").on("input focusout",function(){""!=$("#registerEmail").val()?(i=!1,r=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($("#registerEmail").val())?(f("#registerEmail","#registerEmailValidate"),!0):(c("#registerEmail","#registerEmailValidate","Email format is not correct"),!1)):(c("#registerEmail","#registerEmailValidate","Cannot leave blank!"),i=!(r=!1))});var n=!1,t=!0;$("#registerPassword").on("input focusout",function(){""!=$("#registerPassword").val()?(t=!1,n=/^(?=.*\d)(?=.*[a-zA-Z]).{6,}$/.test($("#registerPassword").val())?(f("#registerPassword","#registerPasswordValidate"),!0):(c("#registerPassword","#registerPasswordValidate","Password should contains at least 6 characters with digits and alphabert"),!1)):(c("#registerPassword","#registerPasswordValidate","Cannot leave blank!"),t=!(n=!1))});var o=!1,l=!0;$("#passwordConfirm").on("input focusout",function(){""!=$("#registerPassword").val()?(l=!1,o=/^(?=.*\d)(?=.*[a-zA-Z]).{6,}$/.test($("#passwordConfirm").val())?(f("#passwordConfirm","#passwordConfirmValidate"),!0):(c("#passwordConfirm","#passwordConfirmValidate","Password is not matched"),!1)):(c("#passwordConfirm","#passwordConfirmValidate","Cannot leave blank!"),l=!(o=!1))}),$("#registerForm").submit(function(a){return!!(e&&r&&n&&o)||(s&&i&&t&&l&&(c("#registerUsername","#registerUsernameValidate","Cannot leave blank!"),c("#registerEmail","#registerEmailValidate","Cannot leave blank!"),c("#registerPassword","#registerPasswordValidate","Cannot leave blank!"),c("#passwordConfirm","#passwordConfirmValidate","Cannot leave blank!")),a.preventDefault(),a.stopPropagation(),!1)});var d=!1,m=!0;$("#loginUsername").on("input focusout",function(){""!=$("#loginUsername").val()?(m=!1,/^[a-zA-Z].*/.test($("#loginUsername").val())?$.ajax({method:"POST",url:"./includes/functions/search/checkUsername.php",data:{username_ajax:$("#loginUsername").val()},success:function(a){d=a?(c("#loginUsername","#loginUsernameValidate","Username does not exist"),!1):(f("#loginUsername","#loginUsernameValidate"),!0)}}):(c("#loginUsername","#loginUsernameValidate","Username usually don't start from digit"),d=!1)):(c("#loginUsername","#loginUsernameValidate","Cannot leave blank!"),d=!1)});var g=!1,u=!0;function a(a,e){"password"===$(e).attr("type")?($(e).attr("type","text"),$(a+" .fas").removeClass("fa-eye-slash").addClass("fa-eye")):($(e).attr("type","password"),$(a+" .fas").removeClass("fa-eye").addClass("fa-eye-slash"))}function c(a,e,s){$(a).removeClass("is-valid").addClass("is-invalid"),$(e).removeClass("valid-feedback").addClass("invalid-feedback").empty().html(s)}function f(a,e){$(a).removeClass("is-invalid").addClass("is-valid"),$(e).removeClass("invalid-feedback").addClass("valid-feedback").empty().html("Looks good!")}$("#loginPassword").on("input focusout",function(){""!=$("#loginPassword").val()?(u=!1,g=/^(?=.*\d)(?=.*[a-zA-Z]).{6,}$/.test($("#loginPassword").val())?(f("#loginPassword","#loginPasswordValidate"),!0):(c("#loginPassword","#loginPasswordValidate","Password should contains at least 6 characters with digits and alphabert"),!1)):(c("#loginPassword","#loginPasswordValidate","Cannot leave blank!"),u=!(g=!1))}),$("#loginForm").submit(function(a){return!(!d||!g)||(m&&u&&(c("#loginUsername","#loginUsernameValidate","Cannot leave blank!"),c("#loginPassword","#loginPasswordValidate","Cannot leave blank!")),a.preventDefault(),a.stopPropagation(),!1)})});